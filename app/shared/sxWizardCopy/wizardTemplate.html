<div class="modal-header">
    <button type="button" class="close" ng-click="cancel()">
        <span aria-hidden="true">&times;</span>
    </button>
    <h5 class="modal-title text-center">{{_title}}</h5>
</div>
<div class="modal-body">
    <div ng-show="_shadow && (_entering || _leaving)" class="shadow">
        <div class="outer">
            <div class="middle text-info">
                <div class="inner">
                    <i class="fa fa-5x fa-spinner fa-pulse"></i>
                </div>
                <div class="inner">
                    <h3 ng-show="_entering">loading...</h3>
                    <h3 ng-show="_leaving">validating...</h3>
                </div>
            </div>
        </div>
    </div>

    <div class="step-container"
         sx-wizard="$data"
         sx-wizard-steps="$steps"
         sx-wizard-current-step="$current"
         sx-wizard-buttons="$buttons"
         sx-wizard-show-shadow="showShadow()"
         sx-wizard-hide-shadow="hideShadow()"
         sx-wizard-init="go(0, false)">
    </div>
</div>
<span class="stepValidation error">{{$current.step.$context.validationError}}</span>
<div class="modal-footer">
    <div class="btn-group pull-left">
        <div class="step-title">{{$current.step.title}}</div>
        <button class="btn btn-default"
                ng-repeat="button in $current.step.$context.navigation.buttons"
                ng-disabled="_entering || _leaving"
                ng-click="goById(button.stepFn(), false)">{{button.text}}</button>
    </div>
    <div class="btn-group">
        <button class="btn btn-success"
                ng-if="$current.step.$context.data.canSendNotification"
                ng-disabled="_entering || _leaving"
                ng-click="success()">{{'WIZARD_FIN' | translate}}</button>
        <button class="btn btn-default" ng-click="cancel()">{{'CANCEL' | translate}}</button>
        <button class="btn btn-default"
                ng-disabled="_entering || _leaving || _history.length <= 0"
                ng-click="previous()">{{'WIZARD_PREV' | translate}}</button>
        <button class="btn btn-primary"
                ng-show="$stepsOrder.indexOf($current.step.id) < $stepsOrder.length - 1"
                ng-disabled="_entering || _leaving"
                ng-click="next()">{{'WIZARD_NEXT' | translate}}</button>
    </div>
</div>